Air-compressor-Controller
=========================

Air-compressor Controller with gps and gprs

项目描述：

一：总体设计
   
    适用场合  Context
    【
        • 用于锁定用户的使用时间，并且通过有效授权密码来解锁。
        • 用于空压机租赁市场的有效定位及其适用状态回馈。
        • 用于监控空压机温度和压力等模拟状态量。
     】
    
    问题描述  Problem 
    【
         • 空压机在销售之后，有些用户会通过自己来维护保养机器，包括配件的购买等等。如果这样的用户基数大了之后，会极大影响经销商的售后
           保养服务方面的收入以及老顾客的持续性销售，久而久之经销商就会失去继续经销红五环品牌的热情，最终损失的是公司整体的利益。那如
           何来解决或者是提高客户，经销商，公司之间的强化关系呢？
         • 对于蓬勃发展的工业机械的租赁市场，如何有效监控租赁客户手中的机器，如何有效定位，如何确定机器的状态，从而减少公司在租赁市场
           的风险？
    】
    
    解决方案  Solution 
    【
         • 通过单片机来计算空压机的有效运行时间，如果到达公司设定的使用时效，客户必须通过输入密码来解锁，如果客户私自维修，公司可以通过
           gprs 模块修改密码或者直接关闭机器的运行，这样，公司就可以帮助经销商强化和客户之间的关系。而租赁的机器，公司通过发送定位码，
           该定位码的机器会通过 gprs 传回该机器的 GPS 坐标和机器的状态。
         • 硬件资源及其安全性 ：MCU 选择 ARM 内核的 STM32，LCD 则为非常成熟的 lcd1602，gps 和 gprs 则选择工业级别的英国希姆通的 gps 和 
           gprs 模块。其他器件均采用工业级标准
     】
    
    可移植性  Portability 
    【
         • 可用于公司其他产品的密码锁定和状态报告。
         • 去除 gps 和 gprs 模块可实现纯粹版的密码锁定功能，可减少成本投入。
     】
                             
二：功能设计 

    1.判断用户的使用时间，如果使用时间到了规定时间(比如500小时)，断开线苞串联在电磁阀中间继电器线苞前的继电器，此时用户用空压机本身的控制
      按键依然不会使电磁阀中间继电器得电，从而锁定了机器运行。此时输入密码，可解锁，监控器得到指令，打开串联继电器，从而电磁阀工作。
    2.监控器的每500（这个数厂家可以自定义）小时就会锁定一次，锁定就需要密码解锁。
    3.密码有3组，用户密码，厂家密码和超级密码，厂家密码和超级密码为万能密码，此两种密码在任意锁定状态下都可解锁，而用户密码在每次锁定都不
      一样，单此有效，一一对应。
    4.读取压力1和压力2以及温度的故障开关量，如果开关量闭合，说明有故障，在液晶上显示出来。
    5.确定运行时间，检测到S1开关转盘不在断开状态，就说明在运行，单片机累计使用时间。
    6.可远程读取监控器的gps坐标，即时是否有故障值和使用时间。
    7.可用键盘设置除了缺省的规定阶梯时间，用户密码，厂家密码和超级密码，也可远程设置。

三：显示设计

    1.
